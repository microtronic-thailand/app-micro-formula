# ðŸ§® à¸ªà¸¹à¸•à¸£à¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“à¸—à¸²à¸‡à¸šà¸±à¸à¸Šà¸µ (Accounting Formulas)

à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰à¸£à¸§à¸šà¸£à¸§à¸¡à¸ªà¸¹à¸•à¸£à¸„à¸“à¸´à¸•à¸¨à¸²à¸ªà¸•à¸£à¹Œà¹à¸¥à¸°à¸•à¸£à¸£à¸à¸°à¸—à¸²à¸‡à¸šà¸±à¸à¸Šà¸µà¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹ƒà¸™à¹‚à¸„à¸£à¸‡à¸à¸²à¸£ **Micro Account** à¹€à¸žà¸·à¹ˆà¸­à¹ƒà¸«à¹‰à¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“à¹€à¸›à¹‡à¸™à¹„à¸›à¸•à¸²à¸¡à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸šà¸±à¸à¸Šà¸µà¹„à¸—à¸¢

---

## 1. à¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“à¸ à¸²à¸©à¸µà¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¹€à¸žà¸´à¹ˆà¸¡ (VAT 7%)

### à¸à¸£à¸“à¸µà¸£à¸²à¸„à¸²à¹„à¸¡à¹ˆà¸£à¸§à¸¡à¸ à¸²à¸©à¸µ (Exclusive VAT)
à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸°à¸šà¸¸à¸£à¸²à¸„à¸²à¹€à¸›à¸¥à¹ˆà¸² à¹à¸¥à¹‰à¸§à¸•à¹‰à¸­à¸‡à¸šà¸§à¸ VAT à¹€à¸žà¸´à¹ˆà¸¡
- **à¸ªà¸¹à¸•à¸£ VAT**: `à¸£à¸²à¸„à¸²à¸žà¸¶à¸‡à¸›à¸£à¸°à¹€à¸¡à¸´à¸™ x 0.07`
- **à¸ªà¸¹à¸•à¸£à¸£à¸²à¸„à¸²à¸ªà¸¸à¸—à¸˜à¸´**: `à¸£à¸²à¸„à¸²à¸žà¸¶à¸‡à¸›à¸£à¸°à¹€à¸¡à¸´à¸™ + VAT`

> **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**: à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸²à¸„à¸² 1,000 à¸šà¸²à¸—
> - VAT = 1,000 x 0.07 = **70 à¸šà¸²à¸—**
> - à¸£à¸²à¸„à¸²à¸ªà¸¸à¸—à¸˜à¸´ = 1,000 + 70 = **1,070 à¸šà¸²à¸—**

### à¸à¸£à¸“à¸µà¸£à¸²à¸„à¸²à¸£à¸§à¸¡à¸ à¸²à¸©à¸µà¹à¸¥à¹‰à¸§ (Inclusive VAT)
à¹ƒà¸Šà¹‰à¹€à¸¡à¸·à¹ˆà¸­à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸°à¸šà¸¸à¸£à¸²à¸„à¸²à¸‚à¸²à¸¢à¸ªà¸¸à¸—à¸˜à¸´à¸¡à¸²à¹à¸¥à¹‰à¸§ à¹à¸¥à¸°à¸•à¹‰à¸­à¸‡à¸à¸²à¸£à¸–à¸­à¸” vat à¸­à¸­à¸à¸¡à¸²
- **à¸ªà¸¹à¸•à¸£à¸–à¸­à¸” VAT**: `(à¸£à¸²à¸„à¸²à¸£à¸§à¸¡à¸ à¸²à¸©à¸µ x 7) / 107`
- **à¸ªà¸¹à¸•à¸£à¸«à¸²à¸£à¸²à¸„à¸²à¸•à¸±à¹‰à¸‡à¸•à¹‰à¸™**: `(à¸£à¸²à¸„à¸²à¸£à¸§à¸¡à¸ à¸²à¸©à¸µ x 100) / 107`

> **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**: à¸ªà¸´à¸™à¸„à¹‰à¸²à¸£à¸²à¸„à¸² 1,070 à¸šà¸²à¸— (à¸£à¸§à¸¡ VAT)
> - VAT = (1,070 x 7) / 107 = **70 à¸šà¸²à¸—**
> - à¸£à¸²à¸„à¸²à¸•à¸±à¹‰à¸‡à¸•à¹‰à¸™ = 1,070 - 70 = **1,000 à¸šà¸²à¸—**

---

## 2. à¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“à¸ à¸²à¸©à¸µà¸«à¸±à¸ à¸“ à¸—à¸µà¹ˆà¸ˆà¹ˆà¸²à¸¢ (Withholding Tax - WHT)

à¸ à¸²à¸©à¸µà¸«à¸±à¸ à¸“ à¸—à¸µà¹ˆà¸ˆà¹ˆà¸²à¸¢à¸ˆà¸°à¸„à¸³à¸™à¸§à¸“à¸ˆà¸²à¸ **à¸¢à¸­à¸”à¸à¹ˆà¸­à¸™à¸ à¸²à¸©à¸µà¸¡à¸¹à¸¥à¸„à¹ˆà¸²à¹€à¸žà¸´à¹ˆà¸¡ (Pre-VAT Amount)** à¹€à¸ªà¸¡à¸­

### à¸ªà¸¹à¸•à¸£à¸žà¸·à¹‰à¸™à¸à¸²à¸™
`WHT Amount = à¸£à¸²à¸„à¸²à¸žà¸¶à¸‡à¸›à¸£à¸°à¹€à¸¡à¸´à¸™ (à¹„à¸¡à¹ˆà¸£à¸§à¸¡ VAT) x (à¸­à¸±à¸•à¸£à¸²à¸ à¸²à¸©à¸µ / 100)`

### à¸­à¸±à¸•à¸£à¸²à¸ à¸²à¸©à¸µà¸—à¸µà¹ˆà¸žà¸šà¸šà¹ˆà¸­à¸¢ (WHT Rates)
- **1%**: à¸„à¹ˆà¸²à¸‚à¸™à¸ªà¹ˆà¸‡, à¸„à¹ˆà¸²à¸›à¸£à¸°à¸à¸±à¸™à¸ à¸±à¸¢
- **2%**: à¸„à¹ˆà¸²à¹‚à¸†à¸©à¸“à¸²
- **3%**: à¸„à¹ˆà¸²à¸šà¸£à¸´à¸à¸²à¸£, à¸„à¹ˆà¸²à¸ˆà¹‰à¸²à¸‡à¸—à¸³à¸‚à¸­à¸‡, à¸„à¹ˆà¸²à¸§à¸´à¸Šà¸²à¸Šà¸µà¸ž (à¸žà¸šà¸šà¹ˆà¸­à¸¢à¸—à¸µà¹ˆà¸ªà¸¸à¸”)
- **5%**: à¸„à¹ˆà¸²à¹€à¸Šà¹ˆà¸²

> **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**: à¸„à¹ˆà¸²à¸šà¸£à¸´à¸à¸²à¸£ 1,000 à¸šà¸²à¸— (à¹„à¸¡à¹ˆà¸£à¸§à¸¡ VAT), à¸«à¸±à¸ à¸“ à¸—à¸µà¹ˆà¸ˆà¹ˆà¸²à¸¢ 3%
> - WHT = 1,000 x 0.03 = **30 à¸šà¸²à¸—**
> - à¸œà¸¹à¹‰à¸ˆà¹ˆà¸²à¸¢à¹€à¸‡à¸´à¸™à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸° (à¸à¹ˆà¸­à¸™à¸£à¸§à¸¡ VAT) = 1,000 - 30 = 970 à¸šà¸²à¸—
> - à¸«à¸²à¸à¸¡à¸µ VAT 7% (70 à¸šà¸²à¸—): à¸¢à¸­à¸”à¹‚à¸­à¸™à¸ªà¸¸à¸—à¸˜à¸´ = 970 + 70 = **1,040 à¸šà¸²à¸—**

---

## 3. à¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“à¸ªà¹ˆà¸§à¸™à¸¥à¸” (Discount)

### à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸à¹ˆà¸­à¸™à¸„à¸³à¸™à¸§à¸“ VAT (Standard)
à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸à¸²à¸£à¸„à¹‰à¸²à¸ˆà¸°à¸–à¸¹à¸à¸«à¸±à¸à¸­à¸­à¸à¸ˆà¸²à¸à¸£à¸²à¸„à¸²à¸ªà¸´à¸™à¸„à¹‰à¸² *à¸à¹ˆà¸­à¸™* à¸™à¸³à¹„à¸›à¸„à¸³à¸™à¸§à¸“ VAT

1. **Subtotal (à¸¢à¸­à¸”à¸£à¸§à¸¡à¸ªà¸´à¸™à¸„à¹‰à¸²)** = à¸œà¸¥à¸£à¸§à¸¡à¸‚à¸­à¸‡ (à¸£à¸²à¸„à¸²à¸•à¹ˆà¸­à¸«à¸™à¹ˆà¸§à¸¢ x à¸ˆà¸³à¸™à¸§à¸™)
2. **Discount (à¸ªà¹ˆà¸§à¸™à¸¥à¸”)** = à¸ªà¹ˆà¸§à¸™à¸¥à¸”à¸—à¹‰à¸²à¸¢à¸šà¸´à¸¥
3. **After Discount (à¸¢à¸­à¸”à¸«à¸¥à¸±à¸‡à¸«à¸±à¸à¸ªà¹ˆà¸§à¸™à¸¥à¸”)** = Subtotal - Discount
4. **VAT** = After Discount x 0.07
5. **Grand Total (à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´)** = After Discount + VAT

> **à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡**: à¸ªà¸´à¸™à¸„à¹‰à¸² 10,000 à¸šà¸²à¸— à¸¥à¸” 1,000 à¸šà¸²à¸—
> - à¸¢à¸­à¸”à¸«à¸¥à¸±à¸‡à¸«à¸±à¸à¸ªà¹ˆà¸§à¸™à¸¥à¸” = 9,000 à¸šà¸²à¸—
> - VAT = 9,000 x 0.07 = 630 à¸šà¸²à¸—
> - à¸¢à¸­à¸”à¸ªà¸¸à¸—à¸˜à¸´ = 9,630 à¸šà¸²à¸—

---

## 4. à¸ªà¸£à¸¸à¸›à¸¢à¸­à¸”à¸£à¸§à¸¡à¹ƒà¸™à¹ƒà¸šà¸§à¸²à¸‡à¸šà¸´à¸¥ (Grand Total Calculation Logic)

à¸¥à¸³à¸”à¸±à¸šà¸à¸²à¸£à¸„à¸³à¸™à¸§à¸“ (Order of Operations) à¸—à¸µà¹ˆà¸–à¸¹à¸à¸•à¹‰à¸­à¸‡à¹ƒà¸™à¸£à¸°à¸šà¸š:

1. `Line Total` = `Price` x `Quantity` (à¸„à¸³à¸™à¸§à¸“à¸—à¸µà¸¥à¸°à¸šà¸£à¸£à¸—à¸±à¸”)
2. `Subtotal` = Sum(`Line Total`)
3. `Net Taxable` (à¸à¸²à¸™à¸ à¸²à¸©à¸µ) = `Subtotal` - `Discount`
4. `VAT Amount` = `Net Taxable` x 0.07 (à¸à¸£à¸“à¸µ Exclusive)
5. `Grand Total` (à¸¢à¸­à¸”à¸•à¹‰à¸­à¸‡à¸Šà¸³à¸£à¸°) = `Net Taxable` + `VAT Amount`
6. `WHT Amount` (à¸–à¹‰à¸²à¸¡à¸µ) = `Net Taxable` x `WHT Rate`
7. `Payment Amount` (à¸¢à¸­à¸”à¹‚à¸­à¸™à¸ˆà¸£à¸´à¸‡) = `Grand Total` - `WHT Amount`

---

## 5. à¸ªà¸¹à¸•à¸£à¸§à¸´à¹€à¸„à¸£à¸²à¸°à¸«à¹Œà¸—à¸²à¸‡à¸à¸²à¸£à¹€à¸‡à¸´à¸™ (Dashboard Metrics)

### à¸à¸³à¹„à¸£à¸‚à¸±à¹‰à¸™à¸•à¹‰à¸™ (Gross Profit)
`Sales Revenue (à¸¢à¸­à¸”à¸‚à¸²à¸¢)` - `Cost of Goods Sold (à¸•à¹‰à¸™à¸—à¸¸à¸™à¸‚à¸²à¸¢)`

### à¸­à¸±à¸•à¸£à¸²à¸à¸³à¹„à¸£à¸‚à¸±à¹‰à¸™à¸•à¹‰à¸™ (Gross Profit Margin %)
`(Gross Profit / Sales Revenue) x 100`

### à¸à¸³à¹„à¸£à¸ªà¸¸à¸—à¸˜à¸´ (Net Profit)
`Gross Profit` - `Operating Expenses (à¸„à¹ˆà¸²à¹ƒà¸Šà¹‰à¸ˆà¹ˆà¸²à¸¢à¸”à¸³à¹€à¸™à¸´à¸™à¸‡à¸²à¸™)`

### à¸à¸£à¸°à¹à¸ªà¹€à¸‡à¸´à¸™à¸ªà¸”à¸ªà¸¸à¸—à¸˜à¸´ (Net Cash Flow)
`Total Cash Inflow (à¹€à¸‡à¸´à¸™à¹€à¸‚à¹‰à¸²)` - `Total Cash Outflow (à¹€à¸‡à¸´à¸™à¸­à¸­à¸)`

---

## ðŸ“˜ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸à¸à¸²à¸£à¸›à¸±à¸”à¹€à¸¨à¸© (Rounding)

à¹ƒà¸™à¸£à¸°à¸šà¸šà¸šà¸±à¸à¸Šà¸µ à¸à¸²à¸£à¸›à¸±à¸”à¹€à¸¨à¸©à¸—à¸¨à¸™à¸´à¸¢à¸¡à¸¡à¸µà¸„à¸§à¸²à¸¡à¸ªà¸³à¸„à¸±à¸à¸¡à¸²à¸:
- **Rule**: Standard Rounding (Half Up) à¸«à¸£à¸·à¸­ à¸›à¸±à¸”à¹€à¸¨à¸©à¸—à¸¨à¸™à¸´à¸¢à¸¡ 2 à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡
- **à¸§à¸´à¸˜à¸µà¸à¸²à¸£**: à¸„à¸§à¸£à¸„à¸³à¸™à¸§à¸“ VAT à¹à¸¥à¸° WHT à¹ƒà¸™à¸£à¸°à¸”à¸±à¸šà¸šà¸£à¸£à¸—à¸±à¸”à¸£à¸§à¸¡ (Summary Level) à¹€à¸žà¸·à¹ˆà¸­à¸¥à¸”à¸„à¸§à¸²à¸¡à¸„à¸¥à¸²à¸”à¹€à¸„à¸¥à¸·à¹ˆà¸­à¸™à¸ªà¸°à¸ªà¸¡ (Floating Point Error) à¹à¸•à¹ˆà¸–à¹‰à¸²à¸•à¹‰à¸­à¸‡à¸„à¸³à¸™à¸§à¸“à¸—à¸µà¸¥à¸°à¸šà¸£à¸£à¸—à¸±à¸” à¹ƒà¸«à¹‰à¹€à¸à¹‡à¸šà¸—à¸¨à¸™à¸´à¸¢à¸¡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 4 à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¹à¸¥à¹‰à¸§à¸„à¹ˆà¸­à¸¢à¸›à¸±à¸”à¹€à¸›à¹‡à¸™ 2 à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¹€à¸¡à¸·à¹ˆà¸­à¹à¸ªà¸”à¸‡à¸œà¸¥à¸ªà¸¸à¸”à¸—à¹‰à¸²à¸¢

> **Code (JavaScript/TypeScript) Recommendation**:
> à¹ƒà¸Šà¹‰ library à¹€à¸Šà¹ˆà¸™ `decimal.js` à¸«à¸£à¸·à¸­à¸„à¸³à¸™à¸§à¸“à¹‚à¸”à¸¢à¹à¸›à¸¥à¸‡à¹€à¸›à¹‡à¸™à¸ˆà¸³à¸™à¸§à¸™à¹€à¸•à¹‡à¸¡ (Cents) à¸à¹ˆà¸­à¸™
> `Math.round((amount + Number.EPSILON) * 100) / 100`
